<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Meta -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- Title, desc -->
        
        <title>CSS “truly center” a single child element horizontally when siblings are present &bull; Chris Bracco &bull; web design, engineering, management</title>
        
        <meta name="description" content="I discovered a less hacky solution to this very specific and minor layout problem.">
        <!-- Canonical -->
        <link rel="canonical" href="https://chrisbracco.com/css-truly-center-a-single-child-element-horizontally-when-siblings-are-present/">
        
        <!-- Open Graph -->
        <meta property="og:site_name" content="Chris Bracco">
        
        <meta property="og:title" content="CSS “truly center” a single child element horizontally when siblings are present &bull; Chris Bracco &bull; web design, engineering, management">
        
        
        <meta property="og:type" content="article">
        
        <meta property="og:description" content="I discovered a less hacky solution to this very specific and minor layout problem.">
        <meta property="og:url" content="https://chrisbracco.com/css-truly-center-a-single-child-element-horizontally-when-siblings-are-present/">
        
        <meta property="article:published_time" content="2021-04-01T00:00:00.000Z">
        <meta property="article:author" content="https://chrisbracco.com">
        
        <meta property="og:image" content="https://chrisbracco.com/assets/images/portrait-rust.jpg">
        <!-- Manifest -->
        <link rel="manifest" href="/site.webmanifest">
        <!-- Favicons -->
        <link rel="icon" href="/assets/images/favicon.ico">
        <link
            rel="icon"
            href="/assets/images/favicon.svg"
            type="image/svg+xml"
        />
        <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png">
        <!-- Styles -->
        <link rel="stylesheet" href="/assets/index.9e71ad8f23d0c1bc73d8.css" />
        
            <link rel="stylesheet" href="/assets/styles/posts/truly-center.css" />
        
        
        <!-- Google Analytics -->
        <script async
            src="https://www.googletagmanager.com/gtag/js?id=UA-12953082-11">
        </script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());
            gtag('config', 'UA-12953082-11');
        </script>
        
    </head>
    <body>
        <div id="iconsprite" hidden><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol viewBox="0 0 64 64" id="icon-bulb" xmlns="http://www.w3.org/2000/svg"><path fill="var(--theme-frame-color)" d="M59.8 14.4c1.2 0 2.2-.4 3-1.2.8-.7 1.2-1.7 1.2-2.8 0-2.2-1.9-4-4.2-4h-11c.9 0 1.8-.4 2.4-.9.6-.6 1-1.4 1-2.3 0-1.8-1.5-3.2-3.4-3.2H15.2c-.9 0-1.8.4-2.4.9-.6.6-1 1.4-1 2.3 0 1.8 1.5 3.2 3.4 3.2h-11c-1.2 0-2.2.4-3 1.2C.5 8.3 0 9.3 0 10.4c0 2.2 1.9 4 4.2 4h3C2.7 19.6 0 26.3 0 33.6 0 50.4 14.3 64 32 64s32-13.6 32-30.4c0-7.3-2.7-14-7.2-19.2h3zm-2.5 19.2c0 13.2-11.3 24-25.3 24S6.7 46.8 6.7 33.6c0-7.8 4-14.8 10.1-19.2h30.3c6.2 4.4 10.2 11.4 10.2 19.2z"/><path fill="var(--theme-bulb-fill)" d="M47.1 14.4H16.9C10.7 18.8 6.7 25.8 6.7 33.6c0 13.2 11.3 24 25.3 24s25.3-10.8 25.3-24c0-7.8-4-14.8-10.2-19.2zM26.2 47.5c-.8.3-1.7.5-2.6.5-.9 0-1.8-.2-2.6-.5s-1.6-.8-2.2-1.4c-.6-.6-1.1-1.3-1.5-2.1-.3-.8-.5-1.6-.5-2.4 0-.8.2-1.7.5-2.4.3-.8.8-1.5 1.5-2.1l3 2.9c-.2.2-.4.5-.5.8-.1.3-.2.6-.2.9 0 .3.1.6.2.9.1.3.3.5.5.8.2.2.5.4.8.5.3.1.6.2.9.2.3 0 .6-.1.9-.2.3-.1.6-.3.8-.5l3 2.9c-.5.4-1.2.9-2 1.2z"/></symbol><symbol viewBox="0 0 64 64" id="icon-die" xmlns="http://www.w3.org/2000/svg"><path fill="var(--theme-frame-color)" class="bicon-die-frame" d="M56 64H8c-4.4 0-8-3.6-8-8V8c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v48c0 4.4-3.6 8-8 8zM8 8v48h48V8H8z"/><circle fill="var(--red)" class="bicon-die-dot" cx="20" cy="20" r="4"/><circle fill="var(--red)" class="bicon-die-dot" cx="44" cy="20" r="4"/><circle fill="var(--red)" class="bicon-die-dot" cx="20" cy="44" r="4"/><circle fill="var(--red)" class="bicon-die-dot" cx="44" cy="44" r="4"/><circle fill="var(--red)" class="bicon-die-dot" cx="32" cy="32" r="4"/></symbol><symbol viewBox="0 0 64 64" id="icon-ground" xmlns="http://www.w3.org/2000/svg"><g fill="var(--theme-frame-color)"><path d="M53.3 32h-8c-5.9 0-10.7-4.8-10.7-10.7V0h-5.3v21.4c0 5.9-4.8 10.7-10.7 10.7h-8C9.2 32 8 33.2 8 34.7s1.2 2.7 2.7 2.7h42.7c1.5 0 2.7-1.2 2.7-2.7-.1-1.5-1.3-2.7-2.8-2.7zM45.3 45.3H18.7c-1.5 0-2.7 1.2-2.7 2.7s1.2 2.7 2.7 2.7h26.7c1.5 0 2.7-1.2 2.7-2.7-.1-1.5-1.3-2.7-2.8-2.7zM40 58.7H24c-1.5 0-2.7 1.2-2.7 2.7s1.2 2.7 2.7 2.7h16c1.5 0 2.7-1.2 2.7-2.7s-1.2-2.7-2.7-2.7z"/></g></symbol><symbol viewBox="0 0 64 64" id="icon-outlet" xmlns="http://www.w3.org/2000/svg"><g fill="var(--theme-frame-color)"><path d="M59.8 11.1H4.2C1.9 11.1 0 13 0 15.3v33.3c0 2.3 1.9 4.2 4.2 4.2h55.6c2.3 0 4.2-1.9 4.2-4.2V15.3c0-2.3-1.9-4.2-4.2-4.2zm0 37.8H4.2c-.1 0-.2-.1-.2-.2V15.3c0-.1.1-.2.2-.2h55.6c.1 0 .2.1.2.2V30h-8.5c-.9-3.8-4.3-6.7-8.4-6.7-4.8 0-8.7 3.9-8.7 8.7 0 4.8 3.9 8.7 8.7 8.7 4.1 0 7.5-2.9 8.4-6.7H60v14.7c0 .1-.1.2-.2.2z"/><path d="M13.3 25.3h4v13.3h-4zM22.2 25.3h4v13.3h-4z"/></g></symbol><symbol viewBox="0 0 64 64" id="icon-switch" xmlns="http://www.w3.org/2000/svg"><path fill="var(--theme-frame-color)" d="M48.7 64H15.3c-2.3 0-4.2-1.9-4.2-4.2V4.2C11.1 1.9 13 0 15.3 0h33.3c2.3 0 4.2 1.9 4.2 4.2v55.6c.1 2.3-1.8 4.2-4.1 4.2zM15.3 4c-.1 0-.2.1-.2.2v55.6c0 .1.1.2.2.2h33.3c.1 0 .2-.1.2-.2V4.2c0-.1-.1-.2-.2-.2H15.3z"/><path fill="var(--theme-switch-top-fill)" d="M28.4 18.4h7.1V30h-7.1z"/><path fill="var(--theme-switch-bottom-fill)" d="M28.4 34h7.1v11.6h-7.1z"/><path fill="var(--theme-frame-color)" d="M39.6 14.4H24.4v35.2h15.1V14.4zm-11.2 4h7.1V30h-7.1V18.4zm7.2 27.2h-7.1V34h7.1v11.6z"/></symbol></svg></div>
        <a href="#main" class="button button--primary visually-hidden"
            >Skip to main content</a
        >
    </body>
</html>


<div class="page wrapper" role="document">
    <div class="masthead">
    <div class="masthead__logo">
        <h1 class="masthead__title">
            <a href="/" title="Chris Bracco">Chris Bracco</a>
        </h1>
        <h2 class="masthead__subtitle">
            web design, engineering, management
        </h2>
    </div>
    <div class="masthead__outlet">
        <svg
            role="img"
            focusable="false"
            class="masthead__outlet-icon"
            data-outlet
            data-sound-effect="/assets/audio/zap.wav">
            <use xlink:href="#icon-outlet"></use>
        </svg>
        <div class="masthead__outlet-wire" role="presentation"></div>
    </div>
    <button
        class="masthead__light"
        type="button"
        data-color-scheme-toggle
        data-sound-effect="/assets/audio/switch.wav">
        <svg
            role="img"
            focusable="false"
            class="masthead__light-switch-icon">
            <use xlink:href="#icon-switch"></use>
        </svg>
        <div class="masthead__light-bulb">
            <div class="masthead__light-wire"></div>
            <svg
                role="img"
                focusable="false"
                class="masthead__light-bulb-icon">
                <use xlink:href="#icon-bulb"></use>
            </svg>
        </div>
    </button>
</div>

    <div id="content" class="page__container">
        <nav class="navigation" aria-labelledby="navigationLabel">
    <h2 id="navigationLabel" class="visually-hidden">Main Menu</h2>
    <button
        aria-label="Toggle main menu"
        class="navigation__toggle"
        type="button"
        data-navigation-toggle
        data-sound-effect="/assets/audio/enter.ogg"
    >
        <svg
            role="presentation"
            focusable="false"
            class="navigation__toggle-icon"
        >
            <use xlink:href="#icon-ground"></use>
        </svg>
    </button>
    <div class="navigation__menu" data-navigation-menu>
        <div>
            <ul><li class="navigation__menu__item"><a href="/">Info</a></li>
<li class="navigation__menu__item"><a href="/garden/">Garden</a></li>
<li class="navigation__menu__item"><a href="/work/">Work</a></li>
<li class="navigation__menu__item"><a href="/photos/">Photos</a></li>
<li class="navigation__menu__item"><a href="/books/">Books</a></li></ul>
            <div class="navigation__menu__item">
                <button
                    class="button button--die"
                    type="button"
                    data-die
                    data-sound-effect="/assets/audio/dice.mp3"
                >
                    <svg
                        role="img"
                        aria-labelledby="icon-die-title"
                        width="32"
                        height="32"
                        focusable="false"
                        class="button__icon"
                    >
                        <title id="icon-die-title">Roll the dice</title>
                        <use xlink:href="#icon-die"></use>
                    </svg>
                    <span class="button__text">feeling lucky?</span>
                </button>
            </div>
        </div>
        <div class="navigation__footer">
            <div
                class="battery"
                data-battery
                data-sound-effect="/assets/audio/tick.wav"
            >
                <div class="battery__percentage" data-battery-percentage></div>
                <div class="battery__level" data-battery-level></div>
            </div>
            est. 1988
            <br />
            <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noreferrer"
                >CC BY-SA 4.0</a
            >
            <br />
            <a href="https://chrisbracco.com/feed.xml">Feed</a>
        </div>
    </div>
</nav>

        <main id="main" class="page__main">
<p><a class="button" href="/garden/">⬅️&nbsp;&nbsp;Go back</a></p>


<article class="post" data-breakout-parent>
    <p>
        <time class="post__date" datetime="2021-04-01">
            April 1, 2021
        </time>
    </p>
    
    <h1 class="post__title">CSS “truly center” a single child element horizontally when siblings are present</h1>
    <p class="post__teaser">I discovered a less hacky solution to this very specific and minor layout problem.</p>
    <nav class="post__taglist taglist">
    <ul>
        
        <li>
            <a href="/tags/code-snippets" class="button button--outline">
                Code Snippets
            </a>
        </li>
        
    </ul>
</nav>

    
    <div class="post__content"><h2>The problem</h2>
<p>If you have a parent element with multiple children, it is trickier than you might think to “truly center” one of the child elements horizontally. Your first instinct may be to reach for flexbox and text-align.</p>
<div class="truly-center truly-center--problem">
  <button class="truly-center__child button button--outline" type="button">&times;</button>
  <div class="truly-center__child truly-center__centered"><span>Center</span></div>
</div>
<pre class="language-css"><code class="language-css"><span class="token selector">.truly-center--problem</span> <span class="token punctuation">{</span><br>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span><br>    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token selector">.truly-center--problem .truly-center__centered</span> <span class="token punctuation">{</span><br>    <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span><br>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>As you can see, this does not work as intended. The “centered” child element is only horizontally centered within the <strong>remaining space</strong> in the parent element, and not the “true center” of the parent element.</p>
<p>In this case the width of the centered element is equal to the width of the parent element minus any sibling element(s). The centered element can only be “truly centered” if the width of child elements on both the left and right of it are equal.</p>
<div class="truly-center truly-center--problem">
  <button class="truly-center__child button button--outline" type="button">&times;</button>
  <div class="truly-center__child truly-center__centered"><span>Center</span></div>
  <button class="truly-center__child button button--outline" type="button">&times;</button>
</div>
<p>But what if you only wanted one non-centered child element, or non-centered siblings with different widths on each side of the centered element?</p>
<h2>Absolute positioning</h2>
<p>A quick fix for this is to remove the non-centered child elements from the document flow and position them absolutely.</p>
<p><strong>Caveat:</strong> You need to know the dimensions of each child element, and then calculate the appropriate padding for the centered element so that it doesn’t overlap the absolutely positioned elements.</p>
<div class="truly-center truly-center--absolute">
  <button class="truly-center__child button button--outline" type="button">&times;</button>
  <div class="truly-center__child truly-center__centered"><span>Center</span></div>
</div>
<pre class="language-css"><code class="language-css"><span class="token selector">.truly-center--absolute</span> <span class="token punctuation">{</span><br>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token selector">.truly-center--absolute .button</span> <span class="token punctuation">{</span><br>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span><br>    <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span><br>    <span class="token property">margin-top</span><span class="token punctuation">:</span> [SIBLING HEIGHT / 2]<span class="token punctuation">;</span><br>    <span class="token property">left</span><span class="token punctuation">:</span> [PARENT LEFTHAND PADDING]<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token selector">.truly-center--absolute .truly-center__centered</span> <span class="token punctuation">{</span><br>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<h2>Pseudo element</h2>
<p>You could also use the :after pseudo selector as a sort of “spacer” element to nudge the centered element to “true center”.</p>
<p><strong>Caveat:</strong> You need to know the dimensions of each child element, and then calculate the appropriate dimensions for the pseudo element to nudge the centered element to “true center”.</p>
<div class="truly-center truly-center--pseudo">
  <button class="truly-center__child button button--outline" type="button">&times;</button>
  <div class="truly-center__child truly-center__centered"><span>Center</span></div>
</div>
<pre class="language-css"><code class="language-css"><span class="token selector">.truly-center--pseudo .truly-center__centered</span> <span class="token punctuation">{</span><br>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span><br>    <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span><br>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span><br>    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><br>    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token selector">.truly-center--pseudo .truly-center__centered:after</span> <span class="token punctuation">{</span><br>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span><br>    <span class="token property">display</span><span class="token punctuation">:</span> inline-flex<span class="token punctuation">;</span><br>    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><br>    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><br>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span><br>    <span class="token property">width</span><span class="token punctuation">:</span> [SIBLING WIDTH]<span class="token punctuation">;</span><br>    <span class="token property">height</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<h2>Negative margin</h2>
<p>You could also use a negative margin on the centered element to shift it into “true center”.</p>
<p><strong>Caveat:</strong> You need to know the dimensions of each child element, and then calculate the appropriate negative margin to nudge the centered element to “true center”.</p>
<div class="truly-center truly-center--negative-margin parent">
  <button class="truly-center__child button button--outline" type="button">&times;</button>
  <div class="truly-center__child truly-center__centered"><span>Center</span></div>
</div>
<pre class="language-css"><code class="language-css"><span class="token selector">.truly-center--negative-margin</span> <span class="token punctuation">{</span><br>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span><br>    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token selector">.truly-center--negative-margin .truly-center__centered</span> <span class="token punctuation">{</span><br>    <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span><br>    <span class="token property">margin-left</span><span class="token punctuation">:</span> [SIBLING WIDTH * -1]<span class="token punctuation">;</span><br>    <span class="token property">padding</span><span class="token punctuation">:</span> 0 [SIBLING WIDTH]<span class="token punctuation">;</span><br>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<h2>CSS grid</h2>
<p>The above solutions will work in pretty rigid circumstances, but break down if the size of surrounding siblings change across viewport sizes or different UI states. Is there a better way?</p>
<p>CSS grid to the rescue! This solution is the most flexible of the bunch. You can have elements to the left and right, and you don’t need to care about their dimensions.</p>
<div class="truly-center truly-center--grid">
  <div class="truly-center__child">
    <button class="button button--outline" type="button">&times;</button>
  </div>
  <div class="truly-center__child truly-center__centered"><span>Center</span></div>
  <div class="truly-center__child">
    <button class="button button--outline" type="button">&times;</button>
  </div>
</div>
<pre class="language-css"><code class="language-css"><span class="token selector">.truly-center--grid</span> <span class="token punctuation">{</span><br>    <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span><br>    <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> 1fr auto 1fr<span class="token punctuation">;</span><br>    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br><span class="token selector">.truly-center--grid .truly-center__child:last-child</span> <span class="token punctuation">{</span><br>    <span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div>
</article>
</main>
    </div>
</div>

        <script defer src="/assets/index.eeee2c2bf72e6a642e23.js"></script>
        
    </body>
</html>

